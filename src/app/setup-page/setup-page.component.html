<app-sign-up *ngIf="!loginService.loggedIn"></app-sign-up>
<mat-card *ngIf="loginService.loggedIn">
  <mat-card-content>
    <div>
      Player Name: {{loginService.playerName}}
    </div>
    <div>
      <mat-select placeholder="Select Amount of Players" [(ngModel)]="playerInfoService.gameInfo.playerCount" (selectionChange)="buildMatches()">
        <mat-option value=1>1</mat-option>
        <mat-option value=2>2</mat-option>
        <mat-option value=3>3</mat-option>
        <mat-option value=4>4</mat-option>
      </mat-select>
    </div>
    <div *ngIf="playerInfoService.gameInfo.playerCount && playerInfoService.gameInfo.playerCount != 1">
      <p>Select {{playerInfoService.gameInfo.playerCount-1}} Other Players To Play Against</p>
      <mat-form-field>
        <mat-select placeholder="Select Other Players" [formControl]="players" (selectionChange)="checkPlayers()" multiple [(ngModel)]="playerInfoService.gameInfo.players">
          <mat-option *ngFor="let player of previousPlayers" (change)="!player.selected" [disabled]="player.selected || disablePlayers" [value]="player.name">{{player.name}}</mat-option>
        </mat-select>
      </mat-form-field>
    </div>
    <div *ngIf="playerInfoService.gameInfo.playerCount && playerInfoService.gameInfo.playerScores">
      Number of Matches To Be Found
      <mat-select placeholder="Select Amount of Matches" (selectionChange)="pokemonService.setCardCount()" [(ngModel)]="playerInfoService.gameInfo.matchesCount">
        <mat-option [value]="smallMatches">Small: {{smallMatches}}</mat-option>
        <mat-option [value]="largeMatches">Large: {{largeMatches}}</mat-option>
      </mat-select>
    </div>
  </mat-card-content>
  <button
    *ngIf="playerInfoService.gameInfo.matchesCount && playerInfoService.gameInfo.playerCount && playerInfoService.gameInfo.players"
    mat-raised-button color="primary"
    (click)="saveGameToFirebase(); gameStart()"
  >Start Game</button>
</mat-card>
